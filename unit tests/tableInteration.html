<!doctype html>
<html>

    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Inventory System</title>
    <script src="../jQuery331.js"></script>
    <link rel="stylesheet" href="../styles.css">
        <style>
            *{
                white-space: nowrap;
                text-overflow: ellipsis;
            }
            .nav{
                overflow: hidden;
            }
            div p{
                display: inline;
            }
            ul{
                list-style-type: none;
            }
            li{
                padding: .5rem 1rem;
                background: #f2f2f2;
            }
            li:hover, li:nth-child(even):hover {
                background-color: #b2caec;
            }
            li:nth-child(even) {
                background-color: #e2e2e2;
            }

            .grid-container {
                display: grid;
                grid-template-columns: auto auto;
                grid-template-rows: 1fr 1fr;
                grid-template-areas: "top       top"
                                    "bottom bottom";
            }
            .top, .bottom{
                display: grid;
                grid-template-columns: auto min-content;
                grid-template-rows: 1fr;
            }
            .bottom {
                grid-template-areas: "bottom-left bottom-right";
                grid-area: bottom;
            }

            .top {
                grid-template-areas: "top-left top-right";
                grid-area: top;
            }

            .bottom-left, .bottom-right, .top-left, .top-right{
                overflow: hidden;
            }

            .bottom-left {
                grid-area: bottom-left;
            }

            .bottom-right {
                grid-area: bottom-right;
            }

            .top-left {
                font-size: 1.2rem;
                grid-area: top-left;
            }

            .top-right {
                padding-left: 0.25rem;
                grid-area: top-right;
            }


            tooltip {
                white-space: normal;
                position: absolute;
                background-color: #161616;
                padding: 10px;
                color: #fff;
                font-size: 0.9rem;
            }
            tooltippoint {
                position: absolute;
                margin-top: 30.8px;
                width: 0;
                height: 0;
                border-left: 5px solid transparent;
                border-right: 5px solid transparent;
                border-top: 7px solid rgb(0, 0, 0);
            }

            .expanded-list-item{
                position: relative;
                z-index: 100000;
                height: 25em;
                margin: -2em 0;
            }
            /* 
                TODO: Add transitions after clicking list item
                transition:height 0.25s ease 0s;

             */

        </style>
    </head>

    <body>

        <header>
            <a>SCIENCE LABORATORY</a>
            <input type="text" class="searchbox" id="searchbox">
        </header>

        <nav>
            <div class="button-container">
                <a href="Settings.php">
                    <div class="container-item user-button">
                        <div class="button-icon-container">
                            <img src="../img\inventory-icon-test.png" class="navicons">
                        </div>
                        <p>manage users</p>
                    </div>
                </a>

                <a href="RequestedItems.php">
                    <div class="container-item">
                        <div class="button-icon-container">
                            <img src="../img\inventory-icon-test.png" class="navicons">
                        </div>
                        <p>requested items</p>
                    </div>
                </a>
                <a href="index.php">
                    <div class="logout-button">
                        <div class="button-icon-container" style="background: #c80000">
                            <img src="../img\logout.svg" class="navicons">
                        </div>
                        <p>log out</p>
                    </div>
                </a>
            </div>
        </nav>

        <div class="tablecontrols">
            <button id="addButton" class="NewButton">Add Item</button>
            <button id="Delete" class="NewButton">Delete Selected Items</button>

            <label for="columnSelect">Sort by : </label>
            <select name="columnSelect" id="columnSelect"></select>
        </div>

        <ul>
            <li id="list-item">
                <div class="grid-container">
                    <div class="top">
                        <div class="top-left">
                            <textcontainer>WDSSWireless Dynamic Sensor WDSSWireless Dynamic Sensor WDSS</textcontainer>
                        </div>
                        <div class="top-right">
                            <textcontainer>600/1000</textcontainer>
                        </div>
                    </div>
                    <div class="bottom">
                        <div class="bottom-left">
                            <textcontainer>Vernier International</textcontainer>
                        </div>
                        <div class="bottom-right">
                            <textcontainer>SHS-SLS-10000-A23</textcontainer>
                        </div>
                    </div>
                </div>
            </li>
        </ul>

    </body>

    <script src="../jquery.color-2.1.2.min.js"></script>
    <script src="../jquery.easing.1.3.js"></script>

    <script>

    $(document).ready(function() {

        $('textcontainer').hover(function(){
            var positionY = $(this).offset();

            if(this.offsetWidth > $(this).parent().width()){
                $('<tooltip></tooltip>').text($(this).text()).appendTo('body');
                $('<tooltippoint></tooltippoint>').appendTo('body');
                
                $('tooltip').css({ top: positionY["top"]-50+"px"});
            }
        }, function() {
            $('tooltip').remove();
            $('tooltippoint').remove();
        }).mousemove(function(e) { //TODO: add pointy triangle thing to tooltip that follows the x position of the cursor
            var mouseX = event.pageX+"px";
            var positionY = $(this).offset()["top"]-40+"px";

            $('tooltippoint').css({ 
                left: mouseX,
                top: positionY
            });
        });

        $("#list-item").click(function() {
            /*
                TODO expand list item
            */
            $(this).toggleClass("expanded-list-item");
        });

    });

    </script>
</html>